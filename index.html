<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Agasobanuye Pro is your go-to platform for watching the latest movies, discovering new content, and engaging with other movie lovers. Search, watch, comment, and like your favorite videos." />
  <meta name="keywords" content="movies, video streaming, Agasobanuye Pro, movie platform, latest movies, film reviews, movie comments" />
  <meta name="author" content="Threy Viran" />
  <meta property="og:title" content="Agasobanuye Pro" />
  <meta property="og:description" content="Watch the latest movies, discover new content, and engage with other movie lovers on Agasobanuye Pro." />
  <meta property="og:image" content="path_to_thumbnail_image.jpg" />
  <meta property="og:url" content="https://www.agasobanuyepro.com" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Agasobanuye Pro" />
  <meta name="twitter:description" content="Watch the latest movies and engage with movie fans worldwide." />
  <meta name="twitter:image" content="path_to_thumbnail_image.jpg" />
  <meta name="robots" content="index, follow" />
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <title>Agasobanuye Pro</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* üëá Background image on all screens */
    body {
      background-image: url('Avengers_Endgame_poster.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-attachment: fixed;
    }

    /* Trending Movies Section Styling */
    .trending-section {
      padding: 20px;
      background-color: rgba(0, 0, 0, 0.7);
      color: #fff;
      text-align: center;
      margin-bottom: 20px;
    }

    .trending-section h2 {
      font-size: 2em;
    }

    .trending-movies {
      display: flex;
      overflow-x: scroll;
      gap: 20px;
      padding: 10px 0;
    }

    .trending-movie {
      flex-shrink: 0;
      width: 200px;
      border-radius: 8px;
      overflow: hidden;
    }

    .trending-movie img {
      width: 100%;
      border-radius: 8px;
    }

    .trending-movie h3 {
      margin-top: 10px;
      text-align: center;
      font-size: 1.1em;
    }

    /* Movie Categories Section */
    .categories-section {
      margin-top: 40px;
      text-align: center;
      color: #fff;
    }

    .categories-section h2 {
      font-size: 2em;
    }

    .categories-list {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }

    .category {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
    }

    .category h3 {
      font-size: 1.2em;
      color: #fff;
    }
  </style>
</head>
<body>
  <!-- üëá Contact Info Top Right -->
  <div class="top-corner">
    üì± +250791820286 <br />
    üì∏ <a href="https://www.instagram.com/threy_____villa/" target="_blank">@threy_____villa</a>
  </div>

  <div class="container">
    <!-- Trending Movies Section -->
    <section class="trending-section">
      <h2>Trending Movies</h2>
      <div class="trending-movies">
        <div class="trending-movie">
          <a href="https://instagram.com" target="_blank">
            <img src="Last_Stand_2013.jpg" alt="Movie 1" />
          </a>
          
          <h3>Last Stand 1</h3>
        </div>
        <div class="trending-movie">
          <img src="A_Working_Man_Poster.jpg" alt="Movie 2" />
          <h3>A Working Man</h3>
        </div>
        <div class="trending-movie">
          <img src="Last_Stand_2013.jpg" alt="Movie 3" />
          <h3>Last Stand</h3>
        </div>
      </div>
    </section>
     <!-- top searched -->
    <section class="trending-section">
      <h2>Top searched</h2>
      <div class="trending-movies">
        <div class="trending-movie">
          <a href="https://instagram.com" target="_blank">
            <img src="Last_Stand_2013.jpg" alt="Movie 1" />
          </a>
          
          <h3>Last Stand 1</h3>
        </div>
        <div class="trending-movie">
          <img src="A_Working_Man_Poster.jpg" alt="Movie 2" />
          <h3>A Working Man</h3>
        </div>
        <div class="trending-movie">
          <img src="Last_Stand_2013.jpg" alt="Movie 3" />
          <h3>Last Stand</h3>
        </div>
      </div>
    </section>
    <!-- new movies -->
    <section class="trending-section">
      <h2>new movies</h2>
      <div class="trending-movies">
        <div class="trending-movie">
          <a href="https://instagram.com" target="_blank">
            <img src="Last_Stand_2013.jpg" alt="Movie 1" />
          </a>
          
          <h3>Last Stand 1</h3>
        </div>
        <div class="trending-movie">
          <img src="A_Working_Man_Poster.jpg" alt="Movie 2" />
          <h3>A Working Man</h3>
        </div>
        <div class="trending-movie">
          <img src="Last_Stand_2013.jpg" alt="Movie 3" />
          <h3>Last Stand</h3>
        </div>
      </div>
    </section>
    

    <header>
      <h1>üé¨ Agasobanuye Pro</h1>
      <input type="text" id="searchBar" placeholder="Search movies..." />
    </header>

    <main>
      <section id="videoList" class="video-grid"></section>

      <section id="videoDetails" class="video-details hidden">
        <button id="backBtn">‚Üê Back</button>
        <div class="video-frame-container">
          <iframe id="videoFrame" frameborder="0" allowfullscreen></iframe>
        </div>
        <button id="fullscreenBtn">Full Screen</button>
        <h2 id="videoTitle"></h2>

        <div class="like-section">
          <button id="likeBtn">üëç Like</button>
          <span id="likeCount">0</span>
        </div>

        <div class="comment-section">
          <h3>Comments</h3>
          <form id="commentForm">
            <input type="text" id="username" placeholder="Your name" required />
            <textarea id="commentText" placeholder="Write a comment..." required></textarea>
            <button type="submit">Submit</button>
          </form>
          <div id="commentsContainer"></div>
        </div>
      </section>
    </main>
  </div>

  <!-- Your JS Below -->
  <script>
    // JavaScript code for handling movies and other interactions
    const videoList = document.getElementById("videoList");
    const searchBar = document.getElementById("searchBar");
    const videoDetails = document.getElementById("videoDetails");
    const backBtn = document.getElementById("backBtn");
    const videoFrame = document.getElementById("videoFrame");
    const videoTitle = document.getElementById("videoTitle");
    const likeBtn = document.getElementById("likeBtn");
    const likeCount = document.getElementById("likeCount");
    const commentsContainer = document.getElementById("commentsContainer");
    const commentForm = document.getElementById("commentForm");
    const usernameInput = document.getElementById("username");
    const commentText = document.getElementById("commentText");
    const fullscreenBtn = document.getElementById("fullscreenBtn");

    let currentVideoId = null;
    let isFullscreen = false;

    function fetchVideos(search = "") {
      fetch(`/videos?search=${encodeURIComponent(search)}`)
        .then(res => res.json())
        .then(videos => {
          videoList.innerHTML = "";
          videos.forEach(video => {
            const card = document.createElement("div");
            card.className = "video-card";
            card.innerHTML = `
              <img src="${video.thumbnail}" alt="${video.title}" />
              <h3>${video.title}</h3>
            `;
            card.addEventListener("click", () => showVideo(video));
            videoList.appendChild(card);
          });
        });
    }

    function showVideo(video) {
      currentVideoId = video.id;
      videoFrame.src = video.iframe;
      videoTitle.textContent = video.title;
      videoDetails.classList.remove("hidden");
      videoList.classList.add("hidden");
      fetchLikes();
      fetchComments();
    }

    function fetchLikes() {
      fetch(`/likes/${currentVideoId}`)
        .then(res => res.json())
        .then(data => {
          likeCount.textContent = data.likes;
        });
    }

    function fetchComments() {
      fetch(`/comments/${currentVideoId}`)
        .then(res => res.json())
        .then(comments => {
          commentsContainer.innerHTML = comments.map(c => `
            <div class="comment">
              <strong>${c.username}</strong>
              <p>${c.comment}</p>
              <span>${new Date(c.date).toLocaleString()}</span>
            </div>
          `).join("");
        });
    }

    likeBtn.addEventListener("click", () => {
      fetch(`/like/${currentVideoId}`, { method: "POST" })
        .then(() => fetchLikes());
    });

    commentForm.addEventListener("submit", e => {
      e.preventDefault();
      fetch(`/comment/${currentVideoId}`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          username: usernameInput.value,
          comment: commentText.value
        })
      })
      .then(() => {
        commentForm.reset();
        fetchComments();
      });
    });

    backBtn.addEventListener("click", () => {
      videoDetails.classList.add("hidden");
      videoList.classList.remove("hidden");
      videoFrame.src = "";
    });

    searchBar.addEventListener("input", (e) => {
      fetchVideos(e.target.value);
    });

    fullscreenBtn.addEventListener("click", () => {
      if (isFullscreen) {
        document.exitFullscreen();
        fullscreenBtn.textContent = "Full Screen";
      } else {
        videoDetails.requestFullscreen();
        fullscreenBtn.textContent = "Exit Full Screen";
      }
      isFullscreen = !isFullscreen;
    });

    fetchVideos();
  </script>
</body>
</html>
